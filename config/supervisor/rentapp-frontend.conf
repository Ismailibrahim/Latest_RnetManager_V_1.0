;
; Supervisor configuration for RentApplication Frontend (Next.js)
; Alternative to PM2 for process management
;
; Installation:
;   sudo apt install supervisor
;   sudo cp config/supervisor/rentapp-frontend.conf /etc/supervisor/conf.d/rentapp-frontend.conf
;   sudo supervisorctl reread
;   sudo supervisorctl update
;   sudo supervisorctl start rentapp-frontend
;
; Management:
;   sudo supervisorctl status rentapp-frontend
;   sudo supervisorctl restart rentapp-frontend
;   sudo supervisorctl stop rentapp-frontend
;   sudo supervisorctl tail -f rentapp-frontend
;

[program:rentapp-frontend]
command=/usr/bin/node /var/www/webapp/frontend/node_modules/next/dist/bin/next start
directory=/var/www/webapp/frontend
user=www-data
autostart=true
autorestart=true
startretries=10
startsecs=10
stopwaitsecs=5
stdout_logfile=/var/www/webapp/logs/frontend-out.log
stderr_logfile=/var/www/webapp/logs/frontend-error.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=5
environment=NODE_ENV="production",PORT="3000"
redirect_stderr=true

